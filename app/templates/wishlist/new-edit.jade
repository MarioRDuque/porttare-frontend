ion-modal-view.wishlist-page
  ion-header-bar.bar.bar-header.bar-light.bar-wishlist-header(
    align-title="center"
  )
    div(ng-hide="wishlistsVm.wishlist.id").title {{::("wishlist.titleNew"|translate)}}
    div(ng-show="wishlistsVm.wishlist.id").title {{::("wishlist.titleEdit"|translate)}}
    div.buttons
      button.button.ion-close.button-clear(
        ng-click="wishlistsVm.closeModal(wishlistsVm.modalSettings.main.id)"
      )
  ion-content.resource-form
    form(
      name="form"
      novalidate
    )
      .list.list-inset
        label.item.item-input.item-stacked-label
          span.input-label {{::("wishlist.listName"|translate)}}
          input(
            class="input-wishlist-name"
            type="text"
            ng-model="wishlistsVm.wishlist.nombre"
          )
        show-error(array-messages="wishlistsVm.messages.nombre")

        label.item.item-input.item-stacked-label
          span.input-label {{::("wishlist.items"|translate)}}
          .row-wishlist-action
            button(
              ng-click="wishlistsVm.showModal(wishlistsVm.modalSettings.items.id)"
            ).button-text-yellow {{::("wishlist.buttonAddItems"|translate)}}
        show-error(array-messages="wishlistsVm.messages.provider_items_ids")

        label.item.item-input.item-stacked-label
          span.input-label {{::("wishlist.dateDelivery"|translate)}}
          .row-wishlist-action
            button(
              ion-datetime-picker
              date
              time
              am-pm
              only-valid="{'after': 'today', 'inclusive': true}"
              ng-model='wishlistsVm.wishlist.entregar_en'
            ).button-text-yellow
              span(ng-if="!wishlistsVm.wishlist.entregar_en")
                | {{::("wishlist.buttonAddDate"|translate)}}
              span(ng-if="wishlistsVm.wishlist.entregar_en")
                | {{wishlistsVm.wishlist.entregar_en | date: "yyyy-MM-dd H:mm"}}

        show-error(array-messages="wishlistsVm.messages.entregar_en")

      .bar.bar-footer.footer-wishlist-container
        button.button-secondary-yellow(
          type="button"
          ng-click="wishlistsVm.processWishlist(wishlistsVm.wishlist.id)"
        ) {{::("wishlist.save"|translate)}}
        button.button-secondary-red(
          type="button"
          ng-click="wishlistsVm.removeOrCancel(wishlistsVm.wishlist.id)"
        ) {{::("wishlist.remove"|translate)}}
